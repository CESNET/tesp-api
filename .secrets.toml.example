# Secrets Configuration Template
# Copy this file to .secrets.toml and configure your values
# WARNING: .secrets.toml should not be committed to version control
# IMPORTANT: .secrets.toml is already in .gitignore

[default]
# Database Configuration
# Format: mongodb://username:password@host:port/database?options
db.mongodb_uri = "mongodb://username:password@localhost:27017/tesp_db?authSource=admin"

# OAuth2 Configuration
# Enable OAuth2 authentication
oauth.enable = true

# List of trusted OAuth2 identity providers
# Tokens from these issuers will be accepted. All others will be rejected.
# Example for Keycloak:
oauth.allowed_issuers = [
  "https://auth.yourdomain.com/realms/your-realm"
]

# Example for Google (if using Google OAuth):
# oauth.allowed_issuers = [
#   "https://accounts.google.com"
# ]

# Required audience for tokens
# This should match the 'aud' claim in your OAuth2 tokens
# For Keycloak, this is typically the client ID of your application
oauth.required_audience = "tesp-api-client"

# Cache JWKS (JSON Web Key Set) for this many seconds (default: 300)
# Reduces HTTP requests to identity provider
oauth.cache_jwks_ttl = 300

# Basic Authentication Configuration
# Basic auth is simpler but less secure than OAuth2
# Only use for development or simple deployments
basic_auth.enable = false
basic_auth.username = "admin"
basic_auth.password = "use-strong-password-here"
